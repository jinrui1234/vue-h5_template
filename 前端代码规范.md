# 命名

### 整体规范

> 命名不可使用中文、中文拼音
>
> 语义要清楚完整，不要过分简写

### 项目命名

> 英文单词组成，多个单词中划线拼接，建议使用大写

例：`MY-PROJECT-NAME`

### 目录（文件夹）命名

> 英文单词组成，中划线拼接
>
> 有复数结构时，要采用复数命名法

例：`images/` `components/` `utils/` `web-ele`

### 文件命名

文件包括`.js` `.ts` `.css` `.html` `.vue` `.less` 其他静态资源等文件

> 英文单词组成，中划线拼接

例：`less_index.less`

### 组件命名

> 声明：首字母大写，驼峰拼接
> 引用：首字母大写，驼峰拼接 / 全小写，中划线拼接

```javascript
// 声明
import DialogUserInfo form '@/components/dialog_user_info'
components: {
    DialogUserInfo
}
// 使用
<DialogUserInfo></DialogUserInfo>
<dialog-user-info></dialog-user-info>
```

### css命名

> 英文单词组成，中划线拼接
>
> id采用大驼峰式命名

例：`.color-white` `#TheDialog`

### js命名

#### 函数

> 构造函数：字母组成，驼峰拼接，例：Vue()
>
> 普通函数：字母组成，驼峰拼接，动词+名词方式组合，例：getUserInfo()

#### 变量

- 对所有的常亮声明使用const；不要使用 var；

> 为什么？这能确保你无法对引用重新赋值，也不会导致出现 bug 或难以理解。

```javascript
// bad
var a = 1;
var b = 2;

// good
const a = 1;
const b = 2;
```

- 如果你一定需要可变动的引用，使用 let 代替 var；

> 为什么？因为 let 是块级作用域，而 var 是函数作用域。

```javascript
// bad
var count = 1;
if (true) {
  count += 1;
}

// good, use the let.
let count = 1;
if (true) {
  count += 1;
}
```

- 注意 let 和 const 都是块级作用域；

```javascript
// const 和 let 只存在于它们被定义的区块内。
{
  let a = 1;
  const b = 1;
}
console.log(a); // ReferenceError
console.log(b); // ReferenceError
```

## js规范

#### 函数定义

> 动词+名词组合，驼峰拼接，体现动作和作用对象

例：`getUserInfo()` `setUserAvatar()`

## vue规范

#### prop

> prop定义必须尽量详细且指定类型

```javascript
props: {
    total: {
        type: Number,
        default: 0
    },
    pagination: {
        type: Object,
        default: null
    }
}
```

#### v-for

> v-for 遍历的 list 变量
>
> `v-for`循环带参,设置键值
>
> 在组件上必须用`key`配合`v-for`,以便维护内部组件及其子树的状态，尽量避免使用index作为key ​

```javascript
// 循环
<li v-for="(item, index) in xxxList" :key="index">

</li>
```

> 永远不要把v-if和v-for用在同一个元素上

```javascript
<ul v-if="shouldShowUsers">
    <li v-for="(item, index) in xxxList" :key="index">

    </li>
</ul>
```

> 指令缩写

用`:`表示`v-bind:`

用`@`表示`v-on:`

> css作用域

使用`scoped`特性

```javascript
<style scoped></style>
```

> .vue模块顺序（建议）

```
<script></script>
<template></template>
<style></style>
```

## 工程结构规范

```
├─node_modules
|
├─public
|  ├─favicon.ico      ----------- 浏览器标签图标
|  ├─index.html       ----------- 页面模板（单页面只有一个，多页面要分别建页面模板）
|
├─src
|  ├─api              ----------- 接口服务
|  ├─assets           ----------- 图片等静态资源
|  ├─styles           ----------- 全局样式资源
|  ├─components       ----------- 公共组件
|  ├─config           ----------- 项目全局配置文件
|  ├─https            ----------- 接口请求工具类
|  ├─router           ----------- 路由
|  ├─store            ----------- vuex数据状态管理（存储全局变量）
|  |     ├─modules        ----------- 数据分模块存储
|  |     ├─index.js       ----------- vuex初始化 + vuex-persistedstate数据持久化
|  ├─utils            ----------- 全局方法工具类
|  ├─views            ----------- 视图
|  |     ├─home-page      ----------- 页面模块
|  |     |  ├─index.vue     ----------- 页面组件
|  |     |  ├─index.less    ----------- 页面样式
|  ├─App.vue
|  ├─main.js
|
├─.env.development    ----------- 开发环境变量
├─.env.production     ----------- 生产环境变量
├─.gitignore          ----------- git上传需要忽略的文件格式
├─babel.config.js     ----------- babel配置文件
├─package.json        ----------- 项目信息、项目依赖管理
├─README.md           ----------- 项目文档（简介、运行步骤、注意事项）
├─tsconfig.json       ----------- TS语法检测文件
├─vue.config.js       ----------- 开发构建配置
├─...
```

## 注释规范

### 整体规范

#### 此处用于所有单文件（除非必需的文件，例：.md）

| 注释名        | 内容     | 含义                 |
| ------------- | -------- | -------------------- |
| @Author       | 作者信息 | 描述文件作者         |
| @Date         | 创建时间 | 描述创建文件的日期   |
| @LastEditors  | 修改作者 | 最后修改代码的作者   |
| @LastEditTime | 修改时间 | 最后修改代码的时间   |
| @Description  | 文件描述 | 此文件是做什么用的   |
| @FilePath     | 文件位置 | 创建此文件所在的位置 |

### css、js注释

> 块级注释统一使用 `/** xxx **/`

### 函数注释

```javascript
/**
 * @description 四舍五入保留n位小数
 * @param {Number} num 初始数值
 * @param {Number} n 小数位数，默认1位
 * @param {Boolean} isFixed 小数位是否补0，默认否
 * @return {Number} 小数值
 */
const countDecimal = (num, n = 1, isFixed = false) => {
  if (isFixed) {
    return Number(num.toFixed(n));
  } else {
    const reg = new RegExp('([0-9]+.[0-9]{' + n + '})[0-9]*');
    return (
      Math.round(num * Math.pow(10, n)) /
      Math.pow(10, n).toString().replace(reg, '$1')
    );
  }
};
```
